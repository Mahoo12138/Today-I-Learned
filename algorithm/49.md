---
title: å­—æ¯å¼‚ä½è¯åˆ†ç»„
---
# [49. å­—æ¯å¼‚ä½è¯åˆ†ç»„](https://leetcode.cn/problems/group-anagrams/)

#leetcode/hash #leetcode/array #leetcode/sort #leetcode/string

## é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¯·ä½ å°†Â **å­—æ¯å¼‚ä½è¯**Â ç»„åˆåœ¨ä¸€èµ·ã€‚å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç»“æœåˆ—è¡¨ã€‚

**å­—æ¯å¼‚ä½è¯**Â æ˜¯ç”±é‡æ–°æ’åˆ—æºå•è¯çš„æ‰€æœ‰å­—æ¯å¾—åˆ°çš„ä¸€ä¸ªæ–°å•è¯ã€‚

**ç¤ºä¾‹ 1:**

```text
è¾“å…¥: strs = ["eat", "tea", "tan", "ate", "nat", "bat"]
è¾“å‡º: [["bat"],["nat","tan"],["ate","eat","tea"]]
```

**ç¤ºä¾‹ 2:**

```text
è¾“å…¥: strs = [""]
è¾“å‡º: [[""]]
```

**ç¤ºä¾‹ 3:**

```text
è¾“å…¥: strs = ["a"]
è¾“å‡º: [["a"]]
```

**æç¤ºï¼š**

- `1 <= strs.length <= 104`
- `0 <= strs[i].length <= 100`
- `strs[i]`Â ä»…åŒ…å«å°å†™å­—æ¯

## è§£æ³•ä¸€ï¼šæ’åº + å“ˆå¸Œè¡¨

```typescript
function groupAnagrams(strs: string[]): string[][] {
    const map = new Map();
    for(let str of strs) {
        const key = str.split('').sort().join('')
        map.set(key, (map.get(key) ?? []).concat([str]));
    }
    return Array.from(map.values())
};
```

1. éå†å­—ç¬¦ä¸²ï¼Œå¯¹æ¯ä¸ªå­—ç¬¦ä¸²æŒ‰ç…§**å­—ç¬¦å­—å…¸åº**æ’åºï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚
2. ä»¥æ–°å­—ç¬¦ä¸²ä¸º `key`ï¼Œ`[str]` ä¸º `value`ï¼Œå­˜å…¥å“ˆå¸Œè¡¨å½“ä¸­ï¼ˆ`Map<string, string[]>>`ï¼‰ã€‚
3. åç»­éå†å¾—åˆ°ç›¸åŒ `key` æ—¶ï¼Œå°†å…¶åŠ å…¥åˆ°å¯¹åº”çš„ `value` å½“ä¸­å³å¯ã€‚

## è§£æ³•äºŒï¼šè®¡æ•° + å“ˆå¸Œè¡¨

è·Ÿä¸Šä¸€ç§è§£æ³•ç›¸è¾ƒèµ·æ¥ï¼Œå°±æ˜¯å“ˆå¸Œè¡¨å–çš„é”®ä¸ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå°†æ¯ä¸ªå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ä»¥åŠå‡ºç°çš„æ¬¡æ•°ä½œä¸º `key`ï¼Œå°†å­—ç¬¦ä¸²ä½œä¸º `value` å­˜å…¥å“ˆå¸Œè¡¨å½“ä¸­ã€‚

```typescript
function groupAnagrams(strs: string[]): string[][] {
    const map = new Map();
    const a = 'a'.charCodeAt(0);
    for(let str of strs) {
        const alphabet = new Array(26).fill(0);
        for (const char of str) {
            alphabet[char.charCodeAt(0) - a]++;
        }
        const key = alphabet.join('$');
        map.set(key, (map.get(key) ?? []).concat([str]));
    }
    return Array.from(map.values())
};
```

æ—¶é—´å¤æ‚åº¦ $$O(nÃ—(k+C))$$ã€‚å…¶ä¸­ $$n$$ å’Œ $$k$$ åˆ†åˆ«æ˜¯å­—ç¬¦ä¸²æ•°ç»„çš„é•¿åº¦å’Œå­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦ï¼Œè€Œ $$C$$æ˜¯å­—ç¬¦é›†çš„å¤§å°ï¼Œæœ¬é¢˜ä¸­ $$C=26$$ã€‚



## è§£æ³•ä¸‰ï¼šç®—æœ¯åŸºæœ¬å®šç† + å“ˆå¸Œ



> **[ç®—æœ¯åŸºæœ¬å®šç†](https://zh.wikipedia.org/wiki/ç®—æœ¯åŸºæœ¬å®šç†)**ï¼Œåˆç§°ä¸º**æ­£æ•´æ•°çš„å”¯ä¸€åˆ†è§£å®šç†**ï¼Œå³ï¼šæ¯ä¸ªå¤§äº1çš„[è‡ªç„¶æ•°](https://zh.wikipedia.org/wiki/è‡ªç„¶æ•°)ï¼Œè¦ä¹ˆæœ¬èº«å°±æ˜¯[è´¨æ•°](https://zh.wikipedia.org/wiki/è´¨æ•°)ï¼Œè¦ä¹ˆå¯ä»¥å†™ä¸º2ä¸ªä»¥ä¸Šçš„è´¨æ•°çš„[ç§¯](https://zh.wikipedia.org/wiki/ç§¯)ï¼Œè€Œä¸”è¿™äº›è´¨å› å­æŒ‰å¤§å°æ’åˆ—ä¹‹åï¼Œå†™æ³•ä»…æœ‰ä¸€ç§æ–¹å¼ã€‚

åˆ©ç”¨è¿™ä¸ªï¼Œæˆ‘ä»¬æŠŠæ¯ä¸ªå­—ç¬¦ä¸²éƒ½æ˜ å°„åˆ°ä¸€ä¸ªæ­£æ•°ä¸Šã€‚

ç”¨ä¸€ä¸ªæ•°ç»„å­˜å‚¨è´¨æ•° `prime = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103]`ã€‚

ç„¶åæ¯ä¸ªå­—ç¬¦ä¸²çš„å­—ç¬¦å‡å» `a` ï¼Œç„¶åå–åˆ° `prime` ä¸­å¯¹åº”çš„è´¨æ•°ï¼ŒæŠŠå®ƒä»¬ç´¯ä¹˜ã€‚

ä¾‹å¦‚ abc ï¼Œå°±å¯¹åº” `'a' - 'a'`ï¼Œ `'b' - 'a'`ï¼Œ `'c' - 'a'`ï¼Œå³ `0,1,2`ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”ç´ æ•° `2,3,5`ï¼Œç„¶åç›¸ä¹˜ `2 *3* 5 = 30`ï¼Œå°±æŠŠ `"abc"` æ˜ å°„åˆ°äº† `30`ã€‚

ä¸è¿‡ä¸Šè¿°åšæ³•ä»æ˜¯åŸºäºå“ˆå¸Œï¼Œåœ¨ key çš„å–å€¼ä¸ŠåšåŠŸå¤«ï¼Œè€Œä¸”èŠ±é‡Œèƒ¡å“¨ğŸ¤£ã€‚

```typescript
function groupAnagrams(strs: string[]): string[][] {
    const map = new Map();
    const prime = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103];
    const a = 'a'.charCodeAt(0);

    for (let str of strs) {
        let key = 1;
        for (const char of str) {
            key *= prime[char.charCodeAt(0) - a]; 
        }
        map.set(key, (map.get(key) ?? []).concat([str]));
    }
    return Array.from(map.values())
};
```



