## 如何选择图片格式，例如 png, webp ？

| 图片格式 | 压缩方式 | 透明度 | 动画   | 浏览器兼容                                     | 适应场景                                         |
| -------- | -------- | ------ | ------ | ---------------------------------------------- | ------------------------------------------------ |
| JPEG     | 有损压缩 | 不支持 | 不支持 | 所有                                           | 复杂颜色及形状、尤其是照片                       |
| GIF      | 无损压缩 | 支持   | 支持   | 所有                                           | 简单颜色，动画                                   |
| PNG      | 无损压缩 | 支持   | 不支持 | 所有                                           | 需要透明时                                       |
| APNG     | 无损压缩 | 支持   | 支持   | Firefox，Safari，iOS Safari                    | 需要半透明效果的动画                             |
| WebP     | 有损压缩 | 支持   | 支持   | Chrome，Opera，Android Chrome，Android Browser | 复杂颜色及形状，浏览器平台可预知                 |
| SVG      | 无损压缩 | 支持   | 支持   | 所有（IE8以上）                                | 简单图形，需要良好的放缩体验需要动态控制图片特效 |

## 小程序和 H5 有什么区别？

1. **渲染方式与 H5 不同**，小程序一般是通过 Native 原生渲染的，但是小程序同时也支持 web 渲染，如果使用 web 渲染的方式，我们需要初始化一个WebView 组件，然后在 WebView 中加载 H5 页面；

   所以当我们开发一个小程序时，通常会使用 hybrid 的方式，即会根据具体情况选择部分功能用小程序原生的代码来开发，部分功能通过 WebView 加载 H5 页面来实现。Native 与 Web 渲染混合使用，以实现项目的最优解；

   这里值得注意的是，小程序下，native 方式通常情况下性能要优于 web 方式。

2. **小程序特有的双线程设计**。 H5 下我们所有资源通常都会打到一个 bundle.js 文件里（不考虑分包加载），而小程序编译后的结果会有两个bundle，index.js 封装的是小程序项目的 view 层，以及 index.worker.js 封装的是项目的业务逻辑，在运行时，会有两条线程来分别处理这两个bundle，一个是主渲染线程，它负责加载并渲染 index.js 里的内容，另外一个是 Service Worker 线程，它负责执行 index.worker.js 里封装的业务逻辑，这里面会有很多对底层 api 调用。



